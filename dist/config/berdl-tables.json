{
    "id": "berdl_tables",
    "name": "BERDL Genome Tables",
    "description": "Pangenome analysis tables from BERDL/GenomeDataLakes objects",
    "version": "1.0.0",
    "icon": "bi-collection",
    "color": "#6366f1",
    "defaults": {
        "pageSize": 50,
        "density": "default",
        "showRowNumbers": true,
        "enableSelection": true,
        "enableExport": true
    },
    "sharedCategories": [
        {
            "id": "core",
            "name": "Core Info",
            "description": "Essential identifiers and names",
            "icon": "bi-database",
            "color": "#6366f1",
            "defaultVisible": true,
            "order": 1
        },
        {
            "id": "functional",
            "name": "Functional Annotation",
            "description": "Function and product information",
            "icon": "bi-gear",
            "color": "#22c55e",
            "defaultVisible": true,
            "order": 2
        },
        {
            "id": "external",
            "name": "External Links",
            "description": "Links to external databases",
            "icon": "bi-box-arrow-up-right",
            "color": "#06b6d4",
            "defaultVisible": true,
            "order": 3
        },
        {
            "id": "sequence",
            "name": "Sequence Data",
            "description": "DNA, RNA, and protein sequences",
            "icon": "bi-text-left",
            "color": "#f59e0b",
            "defaultVisible": true,
            "order": 4
        },
        {
            "id": "ontology",
            "name": "Ontology Terms",
            "description": "GO, KEGG, Pfam annotations",
            "icon": "bi-tags",
            "color": "#8b5cf6",
            "defaultVisible": true,
            "order": 5
        },
        {
            "id": "statistics",
            "name": "Statistics",
            "description": "Numerical metrics and scores",
            "icon": "bi-graph-up",
            "color": "#ef4444",
            "defaultVisible": true,
            "order": 6
        },
        {
            "id": "pangenome",
            "name": "Pangenome Analysis",
            "description": "Core/accessory gene classification",
            "icon": "bi-diagram-3",
            "color": "#14b8a6",
            "defaultVisible": true,
            "order": 7
        }
    ],
    "tables": {
        "genome": {
            "displayName": "Genomes",
            "description": "Genome metadata and taxonomy information",
            "icon": "bi-circle",
            "settings": {
                "defaultSortColumn": "id",
                "defaultSortOrder": "asc"
            },
            "columns": [
                {
                    "column": "id",
                    "displayName": "Genome ID",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "copyable": true,
                    "width": "140px",
                    "pin": "left"
                },
                {
                    "column": "gtdb_taxonomy",
                    "displayName": "GTDB Taxonomy",
                    "dataType": "string",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "searchable": true,
                    "width": "400px"
                },
                {
                    "column": "ncbi_taxonomy",
                    "displayName": "NCBI Taxonomy",
                    "dataType": "string",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "300px"
                },
                {
                    "column": "n_contigs",
                    "displayName": "Contigs",
                    "dataType": "integer",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "right",
                    "width": "100px"
                },
                {
                    "column": "n_features",
                    "displayName": "Features",
                    "dataType": "integer",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "right",
                    "width": "100px"
                }
            ]
        },
        "genome_features": {
            "displayName": "Genome Features",
            "description": "Gene annotations with functional and ontology data",
            "icon": "bi-list-ul",
            "settings": {
                "defaultSortColumn": "id",
                "defaultSortOrder": "asc"
            },
            "columns": [
                {
                    "column": "id",
                    "displayName": "ID",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "width": "80px",
                    "pin": "left"
                },
                {
                    "column": "genome_id",
                    "displayName": "Genome",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "120px"
                },
                {
                    "column": "contig_id",
                    "displayName": "Contig",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "200px"
                },
                {
                    "column": "feature_id",
                    "displayName": "Feature ID",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "copyable": true,
                    "width": "120px"
                },
                {
                    "column": "length",
                    "displayName": "Length",
                    "dataType": "integer",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "align": "right",
                    "width": "80px"
                },
                {
                    "column": "start",
                    "displayName": "Start",
                    "dataType": "integer",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "align": "right",
                    "width": "80px"
                },
                {
                    "column": "end",
                    "displayName": "End",
                    "dataType": "integer",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "align": "right",
                    "width": "80px"
                },
                {
                    "column": "strand",
                    "displayName": "Strand",
                    "dataType": "string",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "60px"
                },
                {
                    "column": "sequence",
                    "displayName": "Protein Sequence",
                    "dataType": "sequence",
                    "categories": [
                        "sequence"
                    ],
                    "sortable": false,
                    "copyable": true,
                    "width": "150px",
                    "transform": {
                        "type": "sequence",
                        "options": {
                            "maxLength": 20,
                            "showCopyButton": true
                        }
                    }
                },
                {
                    "column": "bakta_function",
                    "displayName": "Function (Bakta)",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "searchable": true,
                    "width": "250px"
                },
                {
                    "column": "rast_function",
                    "displayName": "Function (RAST)",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "searchable": true,
                    "width": "250px"
                },
                {
                    "column": "gene_names",
                    "displayName": "Gene Names",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "120px"
                },
                {
                    "column": "go",
                    "displayName": "GO Terms",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "sortable": false,
                    "filterable": true,
                    "width": "250px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "go",
                            "urlTemplate": "https://amigo.geneontology.org/amigo/term/{id}",
                            "idPattern": "(GO:\\d+)",
                            "delimiter": ";",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "ko",
                    "displayName": "KEGG Orthologs",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "sortable": false,
                    "filterable": true,
                    "width": "280px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "kegg",
                            "urlTemplate": "https://www.genome.jp/entry/{id}",
                            "idPattern": "(K\\d+)",
                            "delimiter": ";",
                            "maxLength": 45,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "pfam",
                    "displayName": "Pfam Domains",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "sortable": false,
                    "filterable": true,
                    "width": "250px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "pfam",
                            "urlTemplate": "https://www.ebi.ac.uk/interpro/entry/pfam/{id}",
                            "idPattern": "(PF\\d+)",
                            "delimiter": ";",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "cog",
                    "displayName": "COG",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "220px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "cog",
                            "urlTemplate": "https://www.ncbi.nlm.nih.gov/research/cog/cog/{id}",
                            "idPattern": "(COG\\d+|[A-Z])",
                            "delimiter": ";",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "ec",
                    "displayName": "EC Number",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "240px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "ec",
                            "urlTemplate": "https://enzyme.expasy.org/EC/{id}",
                            "idPattern": "([\\d]+\\.[\\d.-]+)",
                            "delimiter": ";",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "so",
                    "displayName": "Sequence Ontology",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "sortable": false,
                    "width": "200px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "so",
                            "urlTemplate": "http://www.sequenceontology.org/browser/current_release/term/{id}",
                            "idPattern": "(SO:\\d+)",
                            "maxLength": 35,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "uniref_100",
                    "displayName": "UniRef100",
                    "dataType": "ontology",
                    "categories": [
                        "external"
                    ],
                    "sortable": true,
                    "width": "280px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "uniref",
                            "urlTemplate": "https://www.uniprot.org/uniref/{id}",
                            "idPattern": "(UniRef\\d+_[A-Z0-9]+)",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "uniref_90",
                    "displayName": "UniRef90",
                    "dataType": "ontology",
                    "categories": [
                        "external"
                    ],
                    "sortable": true,
                    "width": "280px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "uniref",
                            "urlTemplate": "https://www.uniprot.org/uniref/{id}",
                            "idPattern": "(UniRef\\d+_[A-Z0-9]+)",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "uniref_50",
                    "displayName": "UniRef50",
                    "dataType": "ontology",
                    "categories": [
                        "external"
                    ],
                    "sortable": true,
                    "width": "280px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "uniref",
                            "urlTemplate": "https://www.uniprot.org/uniref/{id}",
                            "idPattern": "(UniRef\\d+_[A-Z0-9]+)",
                            "maxLength": 40,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "pangenome_cluster_id",
                    "displayName": "Cluster ID",
                    "dataType": "id",
                    "categories": [
                        "pangenome"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "120px"
                },
                {
                    "column": "pangenome_is_core",
                    "displayName": "Core Gene",
                    "dataType": "boolean",
                    "categories": [
                        "pangenome"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "100px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                },
                {
                    "column": "psortb",
                    "displayName": "pSORTb",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "120px"
                },
                {
                    "column": "reactions",
                    "displayName": "Reactions",
                    "dataType": "ontology",
                    "categories": [
                        "functional"
                    ],
                    "sortable": false,
                    "width": "300px",
                    "transform": {
                        "type": "ontologyLookup",
                        "options": {
                            "ontologyType": "modelseed_reactions",
                            "urlTemplate": "https://modelseed.org/biochem/reactions/{id}",
                            "idPattern": "(rxn\\d+)",
                            "maxLength": 50,
                            "showId": true,
                            "style": "inline"
                        }
                    }
                },
                {
                    "column": "rast_consistency",
                    "displayName": "RAST Consistency",
                    "dataType": "float",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "align": "right",
                    "width": "120px",
                    "transform": {
                        "type": "number",
                        "options": {
                            "decimals": 2
                        }
                    }
                }
            ]
        },
        "pan_genome_features": {
            "displayName": "Pangenome Features",
            "description": "Cluster-level annotations across genomes",
            "icon": "bi-diagram-3",
            "settings": {
                "defaultSortColumn": "id",
                "defaultSortOrder": "asc"
            },
            "columns": [
                {
                    "column": "id",
                    "displayName": "ID",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "width": "80px",
                    "pin": "left"
                },
                {
                    "column": "genome_id",
                    "displayName": "Genome",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "120px"
                },
                {
                    "column": "feature_id",
                    "displayName": "Feature ID",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "copyable": true,
                    "width": "120px"
                },
                {
                    "column": "cluster_id",
                    "displayName": "Cluster ID",
                    "dataType": "id",
                    "categories": [
                        "pangenome"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "120px"
                },
                {
                    "column": "is_core",
                    "displayName": "Core Gene",
                    "dataType": "boolean",
                    "categories": [
                        "pangenome"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "100px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                },
                {
                    "column": "bakta_function",
                    "displayName": "Function (Bakta)",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "searchable": true,
                    "width": "250px"
                },
                {
                    "column": "rast_function",
                    "displayName": "Function (RAST)",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "searchable": true,
                    "width": "250px"
                },
                {
                    "column": "go",
                    "displayName": "GO Terms",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "width": "180px",
                    "transform": {
                        "type": "ontology",
                        "options": {
                            "prefix": "GO",
                            "urlTemplate": "https://amigo.geneontology.org/amigo/term/{value}",
                            "style": "badge"
                        }
                    }
                },
                {
                    "column": "ko",
                    "displayName": "KEGG Orthologs",
                    "dataType": "ontology",
                    "categories": [
                        "ontology"
                    ],
                    "width": "150px",
                    "transform": {
                        "type": "ontology",
                        "options": {
                            "prefix": "KO",
                            "urlTemplate": "https://www.genome.jp/entry/{value}",
                            "style": "badge"
                        }
                    }
                },
                {
                    "column": "uniref_90",
                    "displayName": "UniRef90",
                    "dataType": "id",
                    "categories": [
                        "external"
                    ],
                    "width": "160px",
                    "transform": {
                        "type": "chain",
                        "options": {
                            "transforms": [
                                {
                                    "type": "replace",
                                    "options": {
                                        "find": "UniRef:",
                                        "replace": ""
                                    }
                                },
                                {
                                    "type": "link",
                                    "options": {
                                        "urlTemplate": "https://www.uniprot.org/uniref/{value}",
                                        "target": "_blank"
                                    }
                                }
                            ]
                        }
                    }
                }
            ]
        },
        "genome_ani": {
            "displayName": "Genome ANI",
            "description": "Average Nucleotide Identity between genomes",
            "icon": "bi-percent",
            "settings": {
                "defaultSortColumn": "ani",
                "defaultSortOrder": "desc"
            },
            "columns": [
                {
                    "column": "genome1",
                    "displayName": "Genome 1",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "140px",
                    "pin": "left"
                },
                {
                    "column": "genome2",
                    "displayName": "Genome 2",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "140px"
                },
                {
                    "column": "ani",
                    "displayName": "ANI (%)",
                    "dataType": "float",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "right",
                    "width": "100px",
                    "transform": {
                        "type": "heatmap",
                        "options": {
                            "min": 90,
                            "max": 100,
                            "colorScale": "sequential",
                            "showValue": true,
                            "decimals": 2
                        }
                    }
                },
                {
                    "column": "af1",
                    "displayName": "AF1",
                    "dataType": "float",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "align": "right",
                    "width": "80px",
                    "transform": {
                        "type": "number",
                        "options": {
                            "decimals": 2
                        }
                    }
                },
                {
                    "column": "af2",
                    "displayName": "AF2",
                    "dataType": "float",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "align": "right",
                    "width": "80px",
                    "transform": {
                        "type": "number",
                        "options": {
                            "decimals": 2
                        }
                    }
                },
                {
                    "column": "kind",
                    "displayName": "Type",
                    "dataType": "string",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "width": "100px",
                    "transform": {
                        "type": "badge",
                        "options": {
                            "variant": "subtle"
                        }
                    }
                }
            ]
        },
        "missing_functions": {
            "displayName": "Missing Functions",
            "description": "Gap-filled reactions and their sources",
            "icon": "bi-exclamation-triangle",
            "settings": {
                "defaultSortColumn": "Reaction",
                "defaultSortOrder": "asc"
            },
            "columns": [
                {
                    "column": "Reaction",
                    "displayName": "Reaction",
                    "dataType": "id",
                    "categories": [
                        "core"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "copyable": true,
                    "width": "150px",
                    "pin": "left"
                },
                {
                    "column": "RAST_function",
                    "displayName": "RAST Function",
                    "dataType": "string",
                    "categories": [
                        "functional"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "searchable": true,
                    "width": "300px"
                },
                {
                    "column": "RichGapfill",
                    "displayName": "Rich Gapfill",
                    "dataType": "boolean",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "110px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                },
                {
                    "column": "MinimalGapfill",
                    "displayName": "Minimal Gapfill",
                    "dataType": "boolean",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "120px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                },
                {
                    "column": "PhenotypeGapfill",
                    "displayName": "Phenotype Gapfill",
                    "dataType": "boolean",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "130px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                },
                {
                    "column": "ModuleGapfill",
                    "displayName": "Module Gapfill",
                    "dataType": "boolean",
                    "categories": [
                        "statistics"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "120px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                },
                {
                    "column": "Pangenome",
                    "displayName": "In Pangenome",
                    "dataType": "boolean",
                    "categories": [
                        "pangenome"
                    ],
                    "sortable": true,
                    "filterable": true,
                    "align": "center",
                    "width": "120px",
                    "transform": {
                        "type": "boolean",
                        "options": {
                            "trueIcon": "bi-check-circle-fill",
                            "falseIcon": "bi-x-circle",
                            "trueColor": "#22c55e",
                            "falseColor": "#94a3b8"
                        }
                    }
                }
            ]
        }
    }
}